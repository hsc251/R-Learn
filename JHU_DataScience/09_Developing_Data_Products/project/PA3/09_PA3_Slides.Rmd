---
title: 'Developing Data Products Final Assignments'
author: "Hsin Chih Chen"
date: "10/22/2021"
output: ioslides_presentation
---

```{r setup, include=FALSE,message=FALSE,warning=FALSE}
knitr::opts_chunk$set(
	echo = TRUE,
	message = FALSE,
	warning = FALSE,
	cache = TRUE,
	tidy = TRUE,
	tidy.opts = list(width.cutoff = 60)
)
```

## Project Description

Instructions:

1. Write a shiny application with associated supporting documentation. The documentation should be thought of as whatever a user will need to get started using your application.
2. Deploy the application on Rstudio's shiny server.
3. Share the application link by pasting it into the provided text box.
4. Share your server.R and ui.R code on github.

## Response

I applied with Tamsui's air data from Taiwan Executive Yuan's EPA gathered at 1PM for everyday in 2020. 

Data Link: https://airtw.epa.gov.tw/CHT/Query/His_Data.aspx

Data was applied to predict PM 2.5 level from SO2 gas, Ozone and CO gas

And the application will run on the link below: https://hsc251.shinyapps.io/jhu09_pa3/

R-Codes for the server and UI associated with tidy data sets are given in this repository below: https://github.com/hsc251/RLearn/tree/master/JHU_DataScience/

## Application Usage

On the left hand side, just enter the required quantity for interested predictor then the right hand side will have the designated tabs for the predicted model data point versus the existing data

And the following are the limits for each predictor

| Predictor | Input Min | Input Max |
| --- | --- | --- |
| SO2 | 0 | 5 |
| O3 | 0 | 100 |
| CO | 0 | 0.8 |

```{r,echo=FALSE}
library(plotly)
library(reshape2)
library(data.table)
library(tidyr)
library(countrycode)
```

```{r, warning=FALSE, message=FALSE, results='hide', echo=FALSE}
# Obtain the source file
setwd('C:/Users/hsc21/Documents/07. Learning Materials/R-Learn/RLearn/JHU09_PA3')
TS_Raw <- read.csv("TS2020.csv", na.strings = c("NA",0,"0"), header = TRUE)

# Check Structure of Raw File
str(TS_Raw)
```

```{r, warning=FALSE, message=FALSE, results='hide', echo=FALSE}
## Convert the PM2.5 and PM10 indicator to numeric output
TS_Raw$PM2.5 <- as.numeric(TS_Raw$PM2.5)
TS_Raw$PM10 <- as.numeric(TS_Raw$PM10)

## Covert the date as official date
TS_Raw$Time <- as.Date(TS_Raw$Time)

## Filter Data for complete cases and verify structure agian
TS_Clean <- TS_Raw[complete.cases(TS_Raw),]
str(TS_Clean)
```

## Example Plots

This plot is just an example obtained from the data set, While showing the possible presentations of 
```{r, echo=FALSE}
# First Plot to demonstrate the SO2 prediction for PM 2.5
fit1 <- lm(PM2.5 ~ SO2, data = TS_Clean)

            x1min = min(TS_Clean$SO2) - 0.5
            x1max = max(TS_Clean$SO2) + 0.5
            y1min = min(TS_Clean$PM2.5) + 0.5
            y1max = max(TS_Clean$PM2.5) + 0.5

plot_ly(TS_Clean, x = TS_Clean$SO2, y = TS_Clean$PM2.5, mode = "markers", color = TS_Clean$SO2,size = TS_Clean$PM2.5)
```

